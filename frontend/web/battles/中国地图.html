<!DOCTYPE html>
<html>
  <head>
    <title>中国地图</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/中国地图/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-3.2.1.min.js"></script>
    <script src="resources/scripts/axure/axQuery.js"></script>
    <script src="resources/scripts/axure/globals.js"></script>
    <script src="resources/scripts/axutils.js"></script>
    <script src="resources/scripts/axure/annotation.js"></script>
    <script src="resources/scripts/axure/axQuery.std.js"></script>
    <script src="resources/scripts/axure/doc.js"></script>
    <script src="resources/scripts/messagecenter.js"></script>
    <script src="resources/scripts/axure/events.js"></script>
    <script src="resources/scripts/axure/recording.js"></script>
    <script src="resources/scripts/axure/action.js"></script>
    <script src="resources/scripts/axure/expr.js"></script>
    <script src="resources/scripts/axure/geometry.js"></script>
    <script src="resources/scripts/axure/flyout.js"></script>
    <script src="resources/scripts/axure/model.js"></script>
    <script src="resources/scripts/axure/repeater.js"></script>
    <script src="resources/scripts/axure/sto.js"></script>
    <script src="resources/scripts/axure/utils.temp.js"></script>
    <script src="resources/scripts/axure/variables.js"></script>
    <script src="resources/scripts/axure/drag.js"></script>
    <script src="resources/scripts/axure/move.js"></script>
    <script src="resources/scripts/axure/visibility.js"></script>
    <script src="resources/scripts/axure/style.js"></script>
    <script src="resources/scripts/axure/adaptive.js"></script>
    <script src="resources/scripts/axure/tree.js"></script>
    <script src="resources/scripts/axure/init.temp.js"></script>
    <script src="resources/scripts/axure/legacy.js"></script>
    <script src="resources/scripts/axure/viewer.js"></script>
    <script src="resources/scripts/axure/math.js"></script>
    <script src="resources/scripts/axure/jquery.nicescroll.min.js"></script>
    <script src="data/document.js"></script>
    <script src="files/中国地图/data.js"></script>
    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
  </head>
  <body>
    <!-- 搜索框容器 - 半透明背景，不挡住地图 -->
    <div id="search-container" style="position: fixed; top: 10px; right: 20px; z-index: 10000; background: rgba(255, 255, 255, 0.95); padding: 12px 20px; border-radius: 8px; box-shadow: 0 2px 15px rgba(0,0,0,0.15); backdrop-filter: blur(5px);">
      <div style="display: flex; align-items: center; gap: 10px;">
        <input type="text" id="province-search" placeholder="输入省份名称（如：北京、上海）" style="width: 250px; padding: 8px 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; outline: none;">
        <button id="search-btn" style="padding: 8px 20px; background: #1890ff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">搜索</button>
        <span id="search-message" style="color: #ff4d4f; font-size: 14px; display: none;"></span>
      </div>
    </div>
    
    <div id="base" class="">

      <!-- 中国省份地图 (图片 ) -->
      <div id="u0" class="ax_default _图片_" data-label="中国省份地图">
        <img id="u0_img" class="img " src="images/中国地图/中国省份地图_u0.png"/>
        <div id="u0_text" class="text " style="display:none; visibility: hidden">
          <p></p>
        </div>
      </div>

      <!-- 黑龙江省 (动态面板) -->
      <div id="u1" class="ax_default" data-label="黑龙江省">
        <div id="u1_state0" class="panel_state" data-label="State1" style="">
          <div id="u1_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u2" class="ax_default marker">
              <img id="u2_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u2_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 新疆维吾尔自治区 (动态面板) -->
      <div id="u3" class="ax_default" data-label="新疆维吾尔自治区">
        <div id="u3_state0" class="panel_state" data-label="State1" style="">
          <div id="u3_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u4" class="ax_default marker">
              <img id="u4_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u4_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 吉林省 (动态面板) -->
      <div id="u5" class="ax_default" data-label="吉林省">
        <div id="u5_state0" class="panel_state" data-label="State1" style="">
          <div id="u5_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u6" class="ax_default marker">
              <img id="u6_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u6_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 青海省 (动态面板) -->
      <div id="u7" class="ax_default" data-label="青海省">
        <div id="u7_state0" class="panel_state" data-label="State1" style="">
          <div id="u7_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u8" class="ax_default marker">
              <img id="u8_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u8_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 吉林省 (动态面板) -->
      <div id="u9" class="ax_default" data-label="吉林省">
        <div id="u9_state0" class="panel_state" data-label="State1" style="">
          <div id="u9_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u10" class="ax_default marker">
              <img id="u10_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u10_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 贵州省 (动态面板) -->
      <div id="u11" class="ax_default" data-label="贵州省">
        <div id="u11_state0" class="panel_state" data-label="State1" style="">
          <div id="u11_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u12" class="ax_default marker">
              <img id="u12_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u12_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 广西壮族自治区 (动态面板) -->
      <div id="u13" class="ax_default" data-label="广西壮族自治区">
        <div id="u13_state0" class="panel_state" data-label="State1" style="">
          <div id="u13_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u14" class="ax_default marker">
              <img id="u14_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u14_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 广东省 (动态面板) -->
      <div id="u15" class="ax_default" data-label="广东省">
        <div id="u15_state0" class="panel_state" data-label="State1" style="">
          <div id="u15_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u16" class="ax_default marker">
              <img id="u16_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u16_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 湖南省 (动态面板) -->
      <div id="u17" class="ax_default" data-label="湖南省">
        <div id="u17_state0" class="panel_state" data-label="State1" style="">
          <div id="u17_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u18" class="ax_default marker">
              <img id="u18_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u18_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 福建省 (动态面板) -->
      <div id="u19" class="ax_default" data-label="福建省">
        <div id="u19_state0" class="panel_state" data-label="State1" style="">
          <div id="u19_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u20" class="ax_default marker">
              <img id="u20_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u20_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 江西省 (动态面板) -->
      <div id="u21" class="ax_default" data-label="江西省">
        <div id="u21_state0" class="panel_state" data-label="State1" style="">
          <div id="u21_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u22" class="ax_default marker">
              <img id="u22_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u22_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 浙江省 (动态面板) -->
      <div id="u23" class="ax_default" data-label="浙江省">
        <div id="u23_state0" class="panel_state" data-label="State1" style="">
          <div id="u23_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u24" class="ax_default marker">
              <img id="u24_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u24_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 上海市 (动态面板) -->
      <div id="u25" class="ax_default" data-label="上海市">
        <div id="u25_state0" class="panel_state" data-label="State1" style="">
          <div id="u25_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u26" class="ax_default marker">
              <img id="u26_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u26_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 安徽省 (动态面板) -->
      <div id="u27" class="ax_default" data-label="安徽省">
        <div id="u27_state0" class="panel_state" data-label="State1" style="">
          <div id="u27_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u28" class="ax_default marker">
              <img id="u28_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u28_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 江苏省 (动态面板) -->
      <div id="u29" class="ax_default" data-label="江苏省">
        <div id="u29_state0" class="panel_state" data-label="State1" style="">
          <div id="u29_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u30" class="ax_default marker">
              <img id="u30_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u30_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 河南省 (动态面板) -->
      <div id="u31" class="ax_default" data-label="河南省">
        <div id="u31_state0" class="panel_state" data-label="State1" style="">
          <div id="u31_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u32" class="ax_default marker">
              <img id="u32_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u32_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 山东省 (动态面板) -->
      <div id="u33" class="ax_default" data-label="山东省">
        <div id="u33_state0" class="panel_state" data-label="State1" style="">
          <div id="u33_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u34" class="ax_default marker">
              <img id="u34_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u34_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 河北省 (动态面板) -->
      <div id="u35" class="ax_default" data-label="河北省">
        <div id="u35_state0" class="panel_state" data-label="State1" style="">
          <div id="u35_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u36" class="ax_default marker">
              <img id="u36_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u36_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 天津市 (动态面板) -->
      <div id="u37" class="ax_default" data-label="天津市">
        <div id="u37_state0" class="panel_state" data-label="State1" style="">
          <div id="u37_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u38" class="ax_default marker">
              <img id="u38_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u38_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 西藏自治区 (动态面板) -->
      <div id="u39" class="ax_default" data-label="西藏自治区">
        <div id="u39_state0" class="panel_state" data-label="State1" style="">
          <div id="u39_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u40" class="ax_default marker">
              <img id="u40_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u40_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 甘肃省 (动态面板) -->
      <div id="u41" class="ax_default" data-label="甘肃省">
        <div id="u41_state0" class="panel_state" data-label="State1" style="">
          <div id="u41_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u42" class="ax_default marker">
              <img id="u42_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u42_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 陕西省 (动态面板) -->
      <div id="u43" class="ax_default" data-label="陕西省">
        <div id="u43_state0" class="panel_state" data-label="State1" style="">
          <div id="u43_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u44" class="ax_default marker">
              <img id="u44_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u44_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 山西省 (动态面板) -->
      <div id="u45" class="ax_default" data-label="山西省">
        <div id="u45_state0" class="panel_state" data-label="State1" style="">
          <div id="u45_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u46" class="ax_default marker">
              <img id="u46_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u46_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 内蒙古自治区 (动态面板) -->
      <div id="u47" class="ax_default" data-label="内蒙古自治区">
        <div id="u47_state0" class="panel_state" data-label="State1" style="">
          <div id="u47_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u48" class="ax_default marker">
              <img id="u48_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u48_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 北京市 (动态面板) -->
      <div id="u49" class="ax_default" data-label="北京市">
        <div id="u49_state0" class="panel_state" data-label="State1" style="">
          <div id="u49_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u50" class="ax_default marker">
              <img id="u50_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u50_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 辽宁省 (动态面板) -->
      <div id="u51" class="ax_default" data-label="辽宁省">
        <div id="u51_state0" class="panel_state" data-label="State1" style="">
          <div id="u51_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u52" class="ax_default marker">
              <img id="u52_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u52_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 台湾省 (动态面板) -->
      <div id="u53" class="ax_default" data-label="台湾省">
        <div id="u53_state0" class="panel_state" data-label="State1" style="">
          <div id="u53_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u54" class="ax_default marker">
              <img id="u54_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u54_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 香港 (动态面板) -->
      <div id="u55" class="ax_default" data-label="香港">
        <div id="u55_state0" class="panel_state" data-label="State1" style="">
          <div id="u55_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u56" class="ax_default marker">
              <img id="u56_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u56_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 澳门 (动态面板) -->
      <div id="u57" class="ax_default" data-label="澳门">
        <div id="u57_state0" class="panel_state" data-label="State1" style="">
          <div id="u57_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u58" class="ax_default marker">
              <img id="u58_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u58_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 四川省 (动态面板) -->
      <div id="u59" class="ax_default" data-label="四川省">
        <div id="u59_state0" class="panel_state" data-label="State1" style="">
          <div id="u59_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u60" class="ax_default marker">
              <img id="u60_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u60_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 重庆市 (动态面板) -->
      <div id="u61" class="ax_default" data-label="重庆市">
        <div id="u61_state0" class="panel_state" data-label="State1" style="">
          <div id="u61_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u62" class="ax_default marker">
              <img id="u62_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u62_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 湖北省 (动态面板) -->
      <div id="u63" class="ax_default" data-label="湖北省">
        <div id="u63_state0" class="panel_state" data-label="State1" style="">
          <div id="u63_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u64" class="ax_default marker">
              <img id="u64_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u64_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 海南省 (动态面板) -->
      <div id="u65" class="ax_default" data-label="海南省">
        <div id="u65_state0" class="panel_state" data-label="State1" style="">
          <div id="u65_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u66" class="ax_default marker">
              <img id="u66_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u66_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 宁夏回族自治区 (动态面板) -->
      <div id="u67" class="ax_default" data-label="宁夏回族自治区">
        <div id="u67_state0" class="panel_state" data-label="State1" style="">
          <div id="u67_state0_content" class="panel_state_content">

            <!-- Unnamed (圆形) -->
            <div id="u68" class="ax_default marker">
              <img id="u68_img" class="img " src="images/中国地图/u2.svg"/>
              <div id="u68_text" class="text " style="display:none; visibility: hidden">
                <p></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="resources/scripts/axure/ios.js"></script>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        position: relative;
      }
      /* 基于设计尺寸 4560x3490，使用缩放适配视口 */
      #base {
        transform-origin: top left;
        position: absolute;
      }
    </style>
    <script>
      (function() {
        var designW = 4560;
        var designH = 3490;
        var base = document.getElementById('base');
        if (!base) return;

        function resize() {
          var ww = window.innerWidth;
          var wh = window.innerHeight;
          var scale = Math.min(ww / designW, wh / designH);
          var offsetX = Math.max(0, (ww - designW * scale) / 2);
          var offsetY = Math.max(0, (wh - designH * scale) / 2);
          base.style.transform = 'translate(' + offsetX + 'px, ' + offsetY + 'px) scale(' + scale + ')';
        }

        window.addEventListener('resize', resize);
        resize();
      })();
    </script>
    
    <!-- 省份搜索功能 -->
    <script>
      (function() {
        var searchInput = document.getElementById('province-search');
        var searchBtn = document.getElementById('search-btn');
        var searchMessage = document.getElementById('search-message');

        function searchProvince() {
          var input = searchInput.value.trim();
          
          if (!input) {
            showMessage('请输入省份名称');
            return;
          }

          // 禁用按钮，防止重复点击
          searchBtn.disabled = true;
          searchBtn.textContent = '搜索中...';
          
          // 使用AJAX从数据库查询省份信息
          var xhr = new XMLHttpRequest();
          xhr.open('GET', '/index.php?r=battles/search-province&name=' + encodeURIComponent(input), true);
          xhr.setRequestHeader('Content-Type', 'application/json');
          
          xhr.onload = function() {
            searchBtn.disabled = false;
            searchBtn.textContent = '搜索';
            
            if (xhr.status === 200) {
              try {
                var response = JSON.parse(xhr.responseText);
                
                if (response.success && response.data) {
                  // 成功找到省份，跳转到对应URL
                  window.location.href = response.data.url;
                } else {
                  // 未找到省份
                  showMessage(response.message || '未找到该省份');
                }
              } catch (e) {
                showMessage('搜索出错，请稍后重试');
                console.error('解析响应失败:', e);
              }
            } else {
              showMessage('网络错误，请稍后重试');
            }
          };
          
          xhr.onerror = function() {
            searchBtn.disabled = false;
            searchBtn.textContent = '搜索';
            showMessage('网络连接失败，请检查网络');
          };
          
          xhr.send();
        }

        function showMessage(msg) {
          searchMessage.textContent = msg;
          searchMessage.style.display = 'inline';
          setTimeout(function() {
            searchMessage.style.display = 'none';
          }, 3000);
        }

        // 绑定事件
        searchBtn.addEventListener('click', searchProvince);
        searchInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            searchProvince();
          }
        });

        // 鼠标悬停效果
        searchBtn.addEventListener('mouseenter', function() {
          if (!this.disabled) {
            this.style.background = '#40a9ff';
          }
        });
        searchBtn.addEventListener('mouseleave', function() {
          if (!this.disabled) {
            this.style.background = '#1890ff';
          }
        });
      })();
    </script>
  </body>
</html>
